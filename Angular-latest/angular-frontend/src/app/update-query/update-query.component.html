<div [hidden]="!authenticated()" class="container">
<h1>Update Query</h1>

        <form (ngsubmit)="onSubmit()"> <!--onsubmit is eventhandler defined in component-->
            <div class="form-group">
                <label for="product">Product:</label>
                <select class="form-control" id="product" name="product" [(ngModel)]="q.product">
                    <option *ngFor="let opt of productopt" [value]="opt" >
                        {{opt}}
                    </option>                    
                </select>
            </div>

            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" class="form-control" id="name" [(ngModel)]="q.queryName" name="queryName">
            </div>

            <div class="form-group">
                <label for="description">Description:</label>
                <input type="text" class="form-control" id="description" [(ngModel)]="q.description" name="description">
            </div>

            <div class="form-group">
                <label for="query">Query text:</label>
                <textarea class="form-control" id="query" [(ngModel)]="q.queryText" name="queryText"></textarea>
            </div>

            <div class="form-group">
                <label for="elasticSearchIndex">ElasticSearch Index:</label>
                <select class = "form-control" name="elasticSearchIndex" id="elasticSearchIndex" [(ngModel)] ="q.elasticSearchIndex" >
                    <option *ngFor = " let opt of indexopt" [value]="opt">{{opt}}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="masks">Masks:</label>
                <select class="form-control" id="masks" multiple [(ngModel)]="q.maskList" name="maskList">
                    <option *ngFor="let opt of maskopt" [value]="opt.maskName">{{opt.maskName}}/{{opt.regex}}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="schedule">Schedules:</label>
                <select class="form-control" id="schedule" [(ngModel)]="q.scheduleName" name="schedule">
                    <option *ngFor="let opt of scheduleopt" [value]="opt.name">{{opt.name}}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="target">Target:</label>
                <select class="form-control" id="target" name="target" [(ngModel)]="q.targetName">
                    <option *ngFor="let opt of targetopt" [value]="opt.targetName">{{opt.targetName}}</option>
                </select>
            </div>

        </form>
        
        
        <button class="btn btn-primary" (click)="onSubmit()">Update</button>
        <button class="btn btn-primary" (click)="onCancel()"style="margin-left: 10px;">Cancel</button>

</div>
<div [hidden]="authenticated()" class="container">
    <app-defaultmessage></app-defaultmessage>
</div>
